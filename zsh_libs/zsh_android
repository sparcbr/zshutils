VERSION=1.0.0

export ANDROID_SDK_ROOT=$(getfullpath $HOME/androidSDK)
if ! [[ -d $ANDROID_SDK_ROOT && -d $ANDROID_SDK_ROOT/tools ]]; then
	echo "Android SDK not found"
	return 1
fi
export ANDROID_HOME=$ANDROID_SDK_ROOT
export ANDROID_PLATFORM_TOOLS=$ANDROID_SDK_ROOT/platform-tools
path+=($ANDROID_HOME/emulator $ANDROID_HOME/tools $ANDROID_HOME/tools/bin $ANDROID_PLATFORM_TOOLS)

tmp=($ANDROID_HOME/build-tools/*(/On[1]))
export ANDROID_BUILD_TOOLS=$tmp
if [[ -d $ANDROID_BUILD_TOOLS ]]; then
	alias aapt=$ANDROID_BUILD_TOOLS/aapt
else
	echo 'Build tools dir not found'
fi

# Get package name from apk file
function getPkg()
{
    #chkCmdInst aapt
    aapt dump badging $1 | grep package:\ name | cut -f2 -d\'
}
return

#APPS="${ANDROID_APPS:-$HOME/PeD/android}"
#[ -d "$APPS" ] || APPS="$HOME/apps"
#ANDROID_APPS="$APPS"
export ANDROID_APPS APPS CLOUD_APPS CLOUD_INBRAMED

#export TREADMILL=$APPS/Treadmill
#export TREADMILL_RES=$TREADMILL/app/src/main/res
#export TREADMILL_IMG=$TREADMILL_RES/drawable
#export TREADMILL_LAYOUT=$TREADMILL_RES/layout
#export TREADMILL_JAVA="$(echo $TREADMILL/app/src/main/java/**/treadmill)"

# Added 2019-06-10 17:59
function checkdbs()
{
	for db in $(s find $1 -name \*.db); do
		run -Esp "check DB $db" sqlite3 $db 'pragma integrity_check'
	done
}
